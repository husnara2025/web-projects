"use strict";(self.webpackChunkcodeneuron_templates=self.webpackChunkcodeneuron_templates||[]).push([[73107,60492],{74153:(t,e,n)=>{n(43209),n(13217),n(92355),n(94970),n(13514),n(60851),n(76775),n(76041),n(75519),n(57966),n(73447),n(92568),n(5703),n(82313),n(21786)},32067:(t,e,n)=>{n(47941),n(82526),n(57327),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(47042),n(68309),n(91038),n(77601),n(41817),n(32165),n(79753),n(21703);var o=n(29439),i=n(93433),a=n(15861),r=n(71002),s=n(4942),l=n(64687),c=n.n(l),u=(n(82772),n(74916),n(64765),n(32564),n(69826),n(41539),n(66992),n(88674),n(78783),n(33948),n(21249),n(96647),n(75505),n(87714),n(82801),n(1174),n(91058),n(92222),n(69720),n(83710),n(26699),n(32023),n(57658),n(70538)),d=n(20629),E=(n(45390),n(91296)),h=n.n(E),v=n(12954),p=n(91033);n(9653);const A={messages:{required:LWTranslate.get("api.required"),email:LWTranslate.get("api.email"),min:function(t,e){var n="";switch(Number(e)){case 6:n=LWTranslate.get("api.length_6");break;case 4:n=LWTranslate.get("api.length_4");break;default:n="This field must be at least ".concat(e," characters.")}return n},regex:LWTranslate.get("api.invalid_format")},custom:{financialTerms:{required:LWTranslate.get("payments.terms_accept")}}};var m="funnel.visited",f="funnel.bounced",T="funnel.traversed",g=[m,f,T],C=n(45433);const I=function(t){return C.Z.post("funnel_event",t)};var O=n(74219),S=n(42792),_=n(94239),N=(n(39714),n(34526)),D=n(29702),b=n(53865),w=n(16312),y=n(21655),L=n(6804),R=n(20405),M=n(61398),P=n(57348),U=(n(44147),n(72415)),k=n(45872);function F(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}const B={name:"InactivityWatcher",data:function(){return{inactivityWatcher:null}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?F(Object(n),!0).forEach((function(e){(0,s.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},(0,d.rn)("user",["inactivitySettings"])),created:function(){void 0!==this.inactivitySettings&&(this.inactivityWatcher=new k.Z(this.inactivitySettings),this.inactivityWatcher.markActivityDetected(),this.inactivityWatcher.start())},beforeDestroy:function(){this.inactivityWatcher&&(this.inactivityWatcher.stop(),this.inactivityWatcher=null)}};var Z=n(51900);const x=(0,Z.Z)(B,undefined,undefined,!1,null,null,null).exports;var j=n(75734),G=n(24306),H=(n(33319),n(67323)),V=n(83116),W=(n(98411),n(79288)),q=n(57741),K=n(10726),Q=n(60741),Y=n(18502),X=n(21228),z=n(59628),J=n(35309),tt=(n(5212),n(93949)),et=(n(26833),n(15306),n(39008)),nt=n.n(et),ot=n(96486),it=n(15671),at=n(43144),rt=(n(30874),n(10489),n(44363),n(2707),n(39991)),st=n.n(rt);n(19755);function lt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function ct(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lt(Object(n),!0).forEach((function(e){(0,s.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ut=[function(t){var e=t.el.textContent.substring(t.caret.start,t.caret.end);return t.content.toLowerCase()!==e.toLowerCase()?null:t.caret},function(t){var e=t.caret,n=(0,tt.vT)(t.content,t.el.textContent,!0);if(0===n.length)return null;var o=Number.MAX_SAFE_INTEGER,i=-1;if(n.forEach((function(t,n){var a=Math.abs(t-e.start);a<o&&(o=a,i=n)})),i<0)return null;var a=n[i]-e.start;return{start:e.start+a,end:e.end+a}},function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.distanceThreshold,n=void 0===e?5:e,o=t.searchPadding,i=void 0===o?3:o,a=t.ignoreCase,r=void 0===a||a;return function(t){var e=t.caret,o=t.content,a=(0,tt.vT)(o.substring(0,i),t.el.textContent,r),s=(0,tt.vT)(o.substring(o.length-i,o.length),t.el.textContent,r);if(0===a.length||0===s.length)return null;for(var l=[],c=e.end-e.start,u=0;u<a.length;u++)for(var d=0;d<s.length;d++){var E=s[d]+i,h=E-a[u];s[d]>a[u]&&Math.abs(c-h)<n&&l.push({start:a[u],end:E,distance:st()(o,t.el.textContent.substring(a[u],E))})}var v=l.sort((function(t,e){return t.distance-e.distance}));return 0===v.length||v[0].distance>n?null:{start:v[0].start,end:v[0].end}}}({distanceThreshold:5,searchPadding:3,ignoreCase:!0})],dt=function(){function t(e){var n=e.id,o=e.el,i=e.xpath,a=e.caret,r=e.content,s=e.className,l=e.note;if((0,it.Z)(this,t),!o&&!i)throw new Error("Either el or xpath must be provided");if(!a)throw new Error("Caret must be provided");if(!r)throw new Error("Content must be provided");this.id=null!=n?n:(0,tt.D1)("annotation"),this.el=null!=o?o:(0,tt.Mc)(i),this.xpath=null!=i?i:(0,tt.y4)(o),this.caret=a,this.content=r,this.className=null!=s?s:"highlight-yellow",this.note=null!=l?l:""}return(0,at.Z)(t,[{key:"serialize",value:function(){return{id:this.id,xpath:this.xpath,caret:this.caret,content:this.content,className:this.className,note:this.note}}},{key:"apply",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];nt().init();var e=nt().createClassApplier(this.className,{ignoreWhiteSpace:!0,elementTagName:"mark",tagNames:["mark"],elementAttributes:{"data-annotation-id":this.id}}),n=this.createRange();n&&e.applyToRange(n);var o=document.querySelectorAll('[data-annotation-id-for-note="'.concat(this.id,'"]')).length;return!this.note&&!t||o||this.createNoteIcon(),this}},{key:"createNoteIcon",value:function(){var t=document.querySelector('[data-annotation-id="'.concat(this.id,'"]')),e=document.createElement("div");e.classList.add("annotation-note-icon-wrapper"),e.style.marginTop="-".concat(t.offsetHeight,"px"),e.setAttribute("data-annotation-id-for-note",this.id);var n=document.createElement("img");n.src="".concat(window.imagePath,"/images/svg/icon-take-note.svg"),n.classList.add("annotation-note-icon"),e.appendChild(n),t.appendChild(e)}},{key:"removeNoteIcon",value:function(){document.querySelector('[data-annotation-id-for-note="'.concat(this.id,'"]')).remove()}},{key:"select",value:function(){var t=this.createRange(document);if(!t)return console.warn("Failed to select annotation: Unable to create range"),this;var e=window.getSelection(),n=this.getMarkedNodes();return 1===n.length?t.selectNodeContents(n[0]):n.length>1&&(t.setStartBefore(n[0]),t.setEndAfter(n[n.length-1])),e.removeAllRanges(),e.addRange(t),this}},{key:"remove",value:function(){return this.getMarkedNodes().forEach((function(t){for(var e=t.parentNode;t.firstChild;)e.insertBefore(t.firstChild,t);t.parentNode.querySelector(".annotation-note-icon-wrapper")&&t.parentNode.querySelector(".annotation-note-icon-wrapper").remove(),e.removeChild(t)})),this}},{key:"getMarkedNodes",value:function(){return this.el.querySelectorAll("[data-annotation-id=".concat(this.id,"]"))}},{key:"createRange",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt(),e=this.caret,n=e.start,o=e.end,i=(0,tt.MT)(this.el,{count:n}),a=(0,tt.MT)(this.el,{count:o});if(!a)return console.warn("Unable to create range from node",this.caret),null;var r=t.createRange();return r.selectNode(this.el),r.setStart(i.endContainer,i.endOffset),r.setEnd(a.endContainer,a.endOffset),r}},{key:"autocorrect",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,e=0;e<t.length;e++){var n=t[e](this);if(n)return this.caret=n,this}return console.warn("Heuristics were unable to find matching annotation"),this}}],[{key:"createFromSelection",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.getRangeAt(0),i=(0,tt.bn)(o.startContainer,o.endContainer),a=(0,tt.qK)(i);return new t(ct(ct({},n),{},{el:i,caret:a,content:i.textContent.substring(a.start,a.end),range:o}))}}]),t}(),Et=n(93671),ht=function(t){return"static"!==window.getComputedStyle(t).getPropertyValue("position")};function vt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vt(Object(n),!0).forEach((function(e){(0,s.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const At={name:"LearnerToolsPanel",props:{annotations:{type:Array,required:!0},allowedTools:{type:Object,default:function(){return{highlight:!0,note:!0,share:!0,rightClick:!0}}}},data:function(){return{localAnnotations:{},toolsDisplay:!1,currentAnnotationId:"",isMousedown:!1,showHighlightButtons:!0,showNoteButton:!1,showRemoveAnnotationButton:!1,PAGE_TYPES:Et.sL,currentAnnotationNoteData:{annotationId:"",note:""},containerStyles:{}}},computed:{currentAnnotationNote:{get:function(){var t;return null===(t=this.currentAnnotationNoteData)||void 0===t?void 0:t.note},set:function(t){this.currentAnnotationNoteData=pt(pt({},this.currentAnnotationNoteData),{},{note:t})}},noteToolDisplay:function(){var t;return null===(t=this.currentAnnotationNoteData)||void 0===t?void 0:t.annotationId},currentAnnotation:function(){return this.localAnnotations[this.currentAnnotationId]},selectionIsWithinAnnotation:function(){return"MARK"===nt().getSelection().getRangeAt(0).commonAncestorContainer.parentElement.tagName},saveButtonText:function(){return(0,ot.capitalize)(this.i18n.get("common.save"))}},watch:{annotations:{immediate:!0,handler:function(t,e){t.length&&!e.length&&this.renderAnnotations()}}},mounted:function(){this.initEventListeners()},beforeDestroy:function(){this.removeEventListeners()},methods:{removeEventListeners:function(){document.querySelector("#pageContent").removeEventListener("scroll",this.handelScrollEvent),document.removeEventListener("mouseup",this.handleMouseupEvent),document.removeEventListener("mousedown",this.handleMousedownEvent),document.removeEventListener("mouseout",this.handleMouseoutEvent),document.removeEventListener("mouseover",this.handleMouseoverEvent),this.allowedTools.rightClick||(document.removeEventListener("contextmenu",this.preventEventDefault),document.removeEventListener("copy",this.preventEventDefault))},emitUpdatedAnnotations:function(){var t=Object.values(this.localAnnotations).map((function(t){return t.serialize()}));this.$emit("annotations-updated",Object.values(t))},showNoteTool:function(t){var e,n,o,i=this,a=null;t.target.closest(".annotation-note")?(nt().getSelection().isCollapsed||this.annotate("highlight-yellow",!0),null!==(e=this.currentAnnotation)&&void 0!==e&&e.note||document.querySelector('[data-annotation-id-for-note="'.concat(this.currentAnnotationId,'"]'))||this.localAnnotations[this.currentAnnotationId].createNoteIcon(),a=document.querySelector('[data-annotation-id-for-note="'.concat(this.currentAnnotationId,'"]')),this.currentAnnotationNoteData={annotationId:this.currentAnnotationId,note:(null===(n=this.localAnnotations[this.currentAnnotationId])||void 0===n?void 0:n.note)||""}):(a=t.target.closest("[data-annotation-id-for-note]"),this.currentAnnotationNoteData={annotationId:a.dataset.annotationIdForNote,note:(null===(o=this.localAnnotations[a.dataset.annotationIdForNote])||void 0===o?void 0:o.note)||""});var r=this.$refs.noteToolContainer,s=a.getBoundingClientRect();r.style.top="".concat(s.y+22,"px"),r.style.left="".concat(s.x,"px"),setTimeout((function(){var t=i.$refs.noteTextArea;t.focus(),t.setSelectionRange(t.value.length,t.value.length)}),0)},hideNoteTool:function(){this.localAnnotations[this.currentAnnotationNoteData.annotationId]&&!this.localAnnotations[this.currentAnnotationNoteData.annotationId].note&&this.localAnnotations[this.currentAnnotationNoteData.annotationId].removeNoteIcon(),this.currentAnnotationNoteData={annotationId:"",note:""}},showTools:function(t){if(!this.selectionIntersectsWithSocialContainer()){var e=0,n=0;if("mouseover"===t.type){var o,i,a,r=null!==(o=null===(i=document.querySelector('[data-annotation-id="'.concat(this.currentAnnotationId,'"]')))||void 0===i||null===(a=i.firstChild)||void 0===a?void 0:a.parentNode)&&void 0!==o?o:null;if(!r)return;var s=r.getBoundingClientRect(),l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return!1;if(ht(t))return t;for(var n=t.parentElement;n;){if(ht(n))return n;if(n===e)return!1;n=n.parentElement}return!1}(r);e=l.getBoundingClientRect().x+r.offsetLeft,n=s.y-25,this.toolsDisplay=!0}else{var c=document.querySelector("#pageContent").getBoundingClientRect().width;e=c<=t.pageX+140?c-140:t.pageX<=20?t.pageX+Math.abs(t.pageX-3):t.pageX+5,n=t.pageY<=20?t.pageY+Math.abs(t.pageY-3):t.pageY-30,window.getSelection().rangeCount>0&&(this.toolsDisplay=!0)}this.containerStyles={top:"".concat(n,"px"),left:"".concat(e,"px")}}},changeHighlightColor:function(t){this.changeHighlightClass(this.currentAnnotationId,t),this.toolsDisplay=!1},removeAnnotatedText:function(){nt().getSelection().isCollapsed?this.removeAnnotation():this.removeAnnotationsFromSelection(),this.toolsDisplay=!1,this.currentAnnotationId=""},handelScrollEvent:(0,ot.throttle)((function(){this.noteToolDisplay&&(this.localAnnotations[this.currentAnnotationNoteData.annotationId].note||this.localAnnotations[this.currentAnnotationNoteData.annotationId].removeNoteIcon()),this.currentAnnotationId&&(this.removeHoverClassFromAnnotation(this.currentAnnotationId),this.currentAnnotationId=""),this.toolsDisplay&&(this.toolsDisplay=!1),this.currentAnnotationNoteData.annotationId&&(this.currentAnnotationNoteData={annotationId:"",note:""})}),500),handleMouseupEvent:function(t){var e;if(this.isMousedown=!1,this.toolsDisplay=!1,this.removeHoverClassFromAnnotation(this.currentAnnotationId),!t.target.classList.contains("annotation-note")&&!t.target.classList.contains("tools-panel-container")){var n=null==t||null===(e=t.target)||void 0===e?void 0:e.closest(".annotation-note-icon-wrapper");if(n||t.target.closest(".annotation-note")){var o,i=this.currentAnnotationNoteData.annotationId;return this.noteToolDisplay&&i&&(this.localAnnotations[i].note||(this.localAnnotations[i].removeNoteIcon(),n.dataset.annotationIdForNote===i))?(null==n||null===(o=n.dataset)||void 0===o?void 0:o.annotationIdForNote)!==i?void this.showNoteTool(t):void(i&&(this.currentAnnotationNoteData={annotationId:"",note:""})):void this.showNoteTool(t)}nt().getSelection().isCollapsed||(this.showHighlightButtons=!this.findIntersectedNodeIds("intersect").length,this.showRemoveAnnotationButton=this.findIntersectedNodeIds("all").length,this.showNoteButton=!this.findIntersectedNodeIds("intersect").length,this.showTools(t))}},handleMousedownEvent:function(){this.isMousedown=!0},handleMouseoutEvent:function(t){var e,n,o,i,a;this.isMousedown||!nt().getSelection().isCollapsed||null!==(e=t.target)&&void 0!==e&&e.closest(".tools-panel-container")&&null!==(n=t.relatedTarget)&&void 0!==n&&n.closest(".tools-panel-container")||!(null!==(o=t.target.dataset)&&void 0!==o&&o.annotationId||null!==(i=t.target)&&void 0!==i&&i.closest(".tools-panel-container"))||null!==(a=t.relatedTarget)&&void 0!==a&&a.closest(".tools-panel-container")||(this.removeHoverClassFromAnnotation(this.currentAnnotationId),this.currentAnnotationId="",this.toolsDisplay=!1)},handleMouseoverEvent:function(t){var e,n;!this.isMousedown&&nt().getSelection().isCollapsed&&(null!==(e=t.target.dataset)&&void 0!==e&&e.annotationId&&!t.target.classList.contains("tools-panel")&&(this.currentAnnotationId=this.addHoverClassToAnnotation(null===(n=t.target)||void 0===n?void 0:n.dataset.annotationId),this.showNoteButton=!0,this.showHighlightButtons=!0,this.showRemoveAnnotationButton=!0,this.showTools(t)))},preventEventDefault:function(t){t.preventDefault()},initEventListeners:function(){var t=this;document.querySelector("#pageContent").addEventListener("scroll",this.handelScrollEvent),document.addEventListener("mouseup",(function(e){return t.handleMouseupEvent(e)})),document.addEventListener("mousedown",this.handleMousedownEvent),document.addEventListener("mouseout",(function(e){return t.handleMouseoutEvent(e)})),document.addEventListener("mouseover",(function(e){return t.handleMouseoverEvent(e)})),this.allowedTools.rightClick||(document.addEventListener("contextmenu",(function(e){return t.preventEventDefault(e)})),document.addEventListener("copy",(function(e){return t.preventEventDefault(e)})))},shareTextToSocial:function(){var t=this,e="",n=nt().getSelection();e=nt().getSelection().isCollapsed?this.currentAnnotation.content:n.toString();var o=window.parent.document;o.querySelector(".-first-col").classList.contains("collapse")&&o.querySelector(".js-showhide-btn").click(),o.querySelector("#discussionTab").click();var i=o.querySelector(".post-editor-container");setTimeout((function(){i.querySelector(".ProseMirror").innerHTML='"'.concat(e.replace(/\s+/g," "),'"'),t.toolsDisplay=!1}),0)},addAnnotation:function(t){this.localAnnotations[t.id]=t,this.emitUpdatedAnnotations()},findIntersectedNodeIds:function(t){var e=window.getSelection();if(e.isCollapsed)return[];var n=e.getRangeAt(0),o=document.querySelectorAll("[data-annotation-id]"),i=[];return o.forEach((function(e){if(n.intersectsNode(e)){var o=document.createRange();o.selectNodeContents(e);var a=n.compareBoundaryPoints(Range.START_TO_START,o),r=n.compareBoundaryPoints(Range.END_TO_END,o),s=-1===a&&1===r;"wrap"===t?s&&(i.includes(e.dataset.annotationId)||i.push(e.dataset.annotationId)):"intersect"===t?s||i.includes(e.dataset.annotationId)||i.push(e.dataset.annotationId):"all"===t&&(i.includes(e.dataset.annotationId)||i.push(e.dataset.annotationId))}})),i.length?i:[]},removeAnnotationsFromSelection:function(){var t=this,e=this.findIntersectedNodeIds("all");e.length&&(e.forEach((function(e){var n;(null===(n=t.localAnnotations[e])||void 0===n?void 0:n.remove())&&delete t.localAnnotations[e]})),this.toolsDisplay=!1,this.currentAnnotationId="")},annotate:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=nt().getSelection();n.isCollapsed?this.changeHighlightColor(t):this.annotateSelectedText(n,e,{className:t})},annotateSelectedText:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.findIntersectedNodeIds("wrap").length&&this.removeAnnotationsFromSelection();var o=dt.createFromSelection(t,n).apply(e);this.addAnnotation(o),this.currentAnnotationId=o.id,this.toolsDisplay=!1},renderAnnotations:function(){var t=this;this.annotations.map((function(t){return new dt(t)})).forEach((function(e){t.localAnnotations[e.id]=e.autocorrect().apply()}))},removeAnnotation:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentAnnotationId,n=null===(t=this.localAnnotations[e])||void 0===t?void 0:t.remove();n&&(delete this.localAnnotations[e],this.emitUpdatedAnnotations()),this.currentAnnotationId=""},addHoverClassToAnnotation:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t){var e=document.querySelector("[data-annotation-id=".concat(t,"]"));if(e){var n=e.dataset.annotationId,o=document.querySelectorAll("[data-annotation-id=".concat(n,"]")),i=Array.from(e.classList).find((function(t){return t.includes("highlight")}))||"";if(!i.includes("-hover")){var a="".concat(i,"-hover");return 1===o.length?e.classList.replace(i,a):o.length>1&&o.forEach((function(t){return t.classList.replace(i,a)})),n}}}},removeHoverClassFromAnnotation:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t){var e=document.querySelector("[data-annotation-id=".concat(t,"]"));if(e){var n=e.dataset.annotationId,o=document.querySelectorAll("[data-annotation-id=".concat(n,"]")),i=Array.from(e.classList).find((function(t){return t.includes("highlight")}))||"",a=i.replace("-hover","");o.forEach((function(t){return t.classList.replace(i,a)}))}}},findAnnotatedNodesByAnnotationId:function(t){return document.querySelectorAll("[data-annotation-id=".concat(t,"]"))},handleEditAnnotation:function(t,e){var n=pt(pt({},this.localAnnotations[t]),e);this.localAnnotations[t]=new dt(n).apply(),this.emitUpdatedAnnotations()},changeHighlightClass:function(t,e){var n=this.findAnnotatedNodesByAnnotationId(t),o=Array.from(n[0].classList).find((function(t){return t.includes("highlight")}))||"";1===n.length?n[0].classList.replace(o,e):n.length>1&&n.forEach((function(t){return t.classList.replace(o,e)})),this.handleEditAnnotation(this.currentAnnotationId,{className:e})},saveNote:function(){this.handleEditAnnotation(this.currentAnnotationNoteData.annotationId,{note:this.currentAnnotationNoteData.note}),this.hideNoteTool()},selectionIntersectsWithSocialContainer:function(){if(!document.querySelector(".standalone-feed"))return!1;var t=nt().getSelection();if(t.isCollapsed)return!1;var e=t.getRangeAt(0),n=!!e.commonAncestorContainer.parentElement.closest(".standalone-feed"),o=!1;return e.getNodes([1]).filter((function(t){return"community-feed"===t.dataset.nodeType})).length&&(o=!0),n||o}}},mt=At;function ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Tt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(n),!0).forEach((function(e){(0,s.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const gt={name:"EbookLearnerToolsPopup",components:{LearnerToolsPanel:(0,Z.Z)(mt,(function(){var t=this,e=t._self._c;return e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.toolsDisplay,expression:"toolsDisplay"}],staticClass:"tools-panel-container",style:t.containerStyles},[e("div",{staticClass:"tools-panel flex a-i-c flex-wrap"},[t.allowedTools.highlight&&t.showHighlightButtons?[e("button",{staticClass:"highlight-btn highlight-yellow",on:{click:function(e){return e.stopPropagation(),t.annotate("highlight-yellow")}}}),t._v(" "),e("button",{staticClass:"highlight-btn highlight-red",on:{click:function(e){return e.stopPropagation(),t.annotate("highlight-red")}}}),t._v(" "),e("button",{staticClass:"highlight-btn highlight-blue",on:{click:function(e){return e.stopPropagation(),t.annotate("highlight-blue")}}})]:t._e(),t._v(" "),t.showNoteButton&&t.allowedTools.note?e("span",{staticClass:"highlight-btn annotation-note",attrs:{title:"Take note"},on:{click:function(e){return e.stopPropagation(),t.showNoteTool.apply(null,arguments)}}},[e("img",{staticClass:"icon-take-note w-24",attrs:{src:t.$lw.imagePath+"/images/svg/icon-take-note.svg"}})]):t._e(),t._v(" "),t.allowedTools.share?e("span",{staticClass:"highlight-btn annotation-share",attrs:{title:"Share in social"},on:{click:function(e){return e.stopPropagation(),t.shareTextToSocial.apply(null,arguments)}}},[e("img",{staticClass:"icon-share-note w-24",attrs:{src:t.$lw.imagePath+"/images/svg/icon-share-note.svg"}})]):t._e(),t._v(" "),t.showRemoveAnnotationButton?e("span",{staticClass:"highlight-btn annotation-remove",attrs:{title:"Remove"},on:{click:function(e){return e.stopPropagation(),t.removeAnnotatedText.apply(null,arguments)}}},[e("img",{staticClass:"icon-remove-note w-24",attrs:{src:t.$lw.imagePath+"/images/svg/icon-remove-note.svg"}})]):t._e()],2)]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.noteToolDisplay,expression:"noteToolDisplay"}],ref:"noteToolContainer",staticClass:"note-tool-container lw-ebook-mainTextNormal"},[e("img",{staticClass:"note-tool-container-close",attrs:{src:t.$lw.imagePath+"/images/svg/close.svg"},on:{click:t.hideNoteTool}}),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.currentAnnotationNote,expression:"currentAnnotationNote"}],ref:"noteTextArea",staticClass:"note-text-area",domProps:{value:t.currentAnnotationNote},on:{input:function(e){e.target.composing||(t.currentAnnotationNote=e.target.value)}}}),t._v(" "),e("button",{staticClass:"note-button learnworlds-button learnworlds-button-solid-brand learnworlds-button-small",on:{click:t.saveNote}},[t._v(t._s(t.saveButtonText))])])])}),[],!1,null,null,null).exports},data:function(){return{userEbookActivity:{},currentEditingAnnotation:null}},computed:Tt(Tt(Tt(Tt(Tt({},(0,d.Se)("ebook",["ebookPageId","ebookData","socialDiscussionEnabled"])),(0,d.rn)("products",["courses"])),(0,d.rn)("pages",["pageData"])),(0,d.rn)("ebook",["allowEbookCopy"])),{},{allowedTools:function(){if(!this.ebookData.settings)return{};var t=this.ebookData.settings;return{highlight:t.allowHighlighting,note:t.allowNotes,share:t.allowSharing&&this.socialDiscussionEnabled,rightClick:this.allowEbookCopy}},hasAllowedTools:function(){return Object.entries(this.allowedTools).some((function(t){var e=(0,o.Z)(t,2),n=e[0];return e[1]&&"rightClick"!==n}))}}),created:function(){this.retrieveUserEbookActivity()},methods:{retrieveUserEbookActivity:function(){var t=this;return(0,a.Z)(c().mark((function e(){var n,o,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,tt.jk)(D.Z.getUserEbookActivity(t.ebookPageId));case 3:i=e.sent,t.userEbookActivity=null!==(n=null==i||null===(o=i.data)||void 0===o?void 0:o.userEbookActivity)&&void 0!==n?n:{},e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.userEbookActivity={};case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},updateAnnotations:function(t){var e=this;return(0,a.Z)(c().mark((function n(){var o,i,a,r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=0===Object.keys(e.userEbookActivity).length?null:e.userEbookActivity.id,n.prev=1,n.next=4,(0,tt.jk)(D.Z.updateUserActivity(e.ebookPageId,{annotations:t,userActivityId:o}));case 4:r=n.sent,e.userEbookActivity=null!==(i=null==r||null===(a=r.data)||void 0===a?void 0:a.userEbookActivity)&&void 0!==i?i:e.userEbookActivity,n.next=10;break;case 8:n.prev=8,n.t0=n.catch(1);case 10:case"end":return n.stop()}}),n,null,[[1,8]])})))()}}};const Ct=(0,Z.Z)(gt,(function(){var t,e,n=this,o=n._self._c;return n.hasAllowedTools?o("learner-tools-panel",{attrs:{annotations:null!==(t=null===(e=n.userEbookActivity)||void 0===e?void 0:e.annotations)&&void 0!==t?t:[],"allowed-tools":n.allowedTools},on:{"annotations-updated":n.updateAnnotations}}):n._e()}),[],!1,null,null,null).exports;n(74153);var It,Ot=n(29315),St=n(31498);function _t(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Nt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return r=t.done,t},e:function(t){s=!0,a=t},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw a}}}}function Nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function Dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function bt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dt(Object(n),!0).forEach((function(e){(0,s.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}(v.cX.localize("en",A),u.default.use(v.ZP),u.default.use(W.Z),u.default.use(V.Z),u.default.use(H.Z),window.me&&(u.default.use(q.Z),window.stopImpersonateUser=function(){(0,Q.CP)(u.default)}),u.default.use(W.Z),document.location.search.indexOf("hidescrollbar")>-1)&&(null===(It=document.querySelector("#pageContent"))||void 0===It||It.classList.add("ov-hidden"));if(document.location.search.indexOf("hidepopups")>-1){var wt=document.createElement("style");wt.innerHTML=".learnworlds-section.popup {display: none;}",document.head.appendChild(wt)}if(document.location.search.indexOf("hidehamburger")>-1){var yt=document.createElement("style");yt.innerHTML=".lw-topbar-hamburger-button {display: none;}",document.head.appendChild(yt)}window.pageBuilder=new u.default({el:"#pageTools",store:new d.ZP.Store(w.Z),mixins:[R.Z,U.Z],computed:bt(bt(bt(bt(bt(bt(bt(bt(bt(bt(bt(bt(bt({},(0,d.rn)("pages",["pageContext","previewSiteTemplateId"])),(0,d.rn)("user",["user"])),(0,d.Se)("pages",["isInEbookPage","unitId"])),(0,d.Se)("ebook",["ebookPageId"])),(0,d.Se)("user",["isLoggedIn","isAdmin"])),(0,d.rn)("UiInteractions",["activeDevicePreview","availableDevicePreviews"])),(0,d.rn)("siteTemplate",["responsiveFontScale"])),(0,d.rn)("sections",["sectionStates"])),(0,d.rn)("elements",["elementStates"])),(0,d.rn)("components",["componentStates"])),(0,d.Se)("pages",["isPageContext"])),(0,d.rn)("funnels",["funnelAnalyticsTrackingFlag"])),{},{deviceBreakpoints:function(){var t={};for(var e in this.availableDevicePreviews)"desktop"!==e&&"object"===(0,r.Z)(this.availableDevicePreviews[e].mediaQuery)&&(t[e]=this.availableDevicePreviews[e].mediaQuery);return t}}),data:function(){var t=this;return{videoResizeObserver:new p.Z((function(e){var n,o=_t(e);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=t.findNodeState(i.target.id);null==a||a.handleResize()}}catch(t){o.e(t)}finally{o.f()}})),funnelEventsSent:[],funnelVisitTimestamp:0,initFinished:!1}},created:function(){var t=this;window.MathJax=b.Z,this.loadActiveSiteTemplate().then((function(){var e,n=(0,G.D)(document.location.href),o=t.getArgsFromUrl(n);t.setCurrentSiteTemplate(null!==(e=o.site_template)&&void 0!==e?e:window.activeSiteTemplate)})),window.currentSiteTemplateStyles&&this.setGlobalStyles(window.currentSiteTemplateStyles),window.STYLES_CUSTOM_FONTS&&this.setCustomFonts(window.STYLES_CUSTOM_FONTS)},mounted:function(){var t=this;this.$on("productsAllHaveBeenLoaded",(function(){t.isLoggedIn&&(t.loadUserCoursesProgress(),setTimeout((function(){t.initNotificationsInterval()}),1e3))})),this.previewSiteTemplateId&&!this.$lw.isLivePreview&&window.showMessage("info","","You are viewing an inactive template",[{name:"Exit Preview Mode",func:function(){var t=window.location.search?"&":"?";window.top.location.href="".concat(window.location.href+t,"preview_exit=true")}}],["lw-notif-popup__inactive-template"],{timeout:!1,color:"green"}),0===document.location.pathname.indexOf("/pages/home")&&this.pageContext.params&&this.pageContext.params.from&&"footer"==this.pageContext.params.from&&$("body, html").animate({scrollTop:$("#pageFooter").offset().top},1500),$.getURLvar("searchtext")&&window.setTimeout((function(){t.$wrapper.find(".-search-input , .js-input-search-by-term").val($.getURLvar("searchtext")).trigger("keyup")}),1),isLoadedInIframe("learnworlds")&&(isLoadedInIframe("learnworlds")&&this.pageContext.params.preview||isLoadedInIframe("learnworlds")&&document.location.pathname.indexOf("specific-terms")>-1||isLoadedInIframe("learnworlds")&&document.location.pathname.indexOf("terms")>-1||isLoadedInIframe("learnworlds")&&document.location.pathname.indexOf("cookies")>-1||isLoadedInIframe("learnworlds")&&document.location.pathname.indexOf("affiliate-program-terms")>-1||(top.location=document.location.href)),isLoadedInIframe("learnworlds")&&-1!==top.location.pathname.indexOf("pages_preview")||("/payment"===document.location.pathname&&void 0===$.getURLvar("product_id")||"/thankyou"===document.location.pathname&&void 0===$.getURLvar("after_purchase"))&&(window.location.href="/?start=1"),this.isPageContext("funnel-page")&&this.initFunnelEvents()},methods:bt(bt(bt(bt(bt(bt(bt(bt({},(0,d.nv)("topbar",["setSchoolTopbarData"])),(0,d.nv)("footer",["setSchoolFooterData"])),(0,d.nv)("user",["setUnreadInboxMessages"])),(0,d.nv)("UiInteractions",["setActiveDevicePreview"])),(0,d.OI)("globalConfig",["setGlobalStyles","setCustomFonts"])),(0,d.nv)("popup",["setPopupData"])),(0,d.nv)("siteTemplate",["loadActiveSiteTemplate"])),{},{$t:function(t){return window.LWTranslate.get(t)},findNodeState:function(t){return this.componentStates[t]?this.componentStates[t]:this.elementStates[t]?this.elementStates[t]:this.sectionStates[t]?this.sectionStates[t]:null},addWindowListeners:function(){window.addEventListener("resize",this.onWindowResize),window.addEventListener("load",this.scrollToInitialSection)},init:function(){var t=this;return(0,a.Z)(c().mark((function e(){var n,o,r,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.querySelector("#pageContent"),(o=(0,G.D)(document.location.href)).product_id&&(o.product_type=o.type),delete o.type,r=[t.loadProducts().then((function(){return t.$emit("productsAllHaveBeenLoaded")})),t.setSchoolTopbarData(window.globalTopbar),t.setSchoolFooterData(window.globalFooter),t.setPopupData(window.pagePopups),t.initializePageData(window.pageState),t.setPageContext(bt(bt({},window.pageState),o))],e.next=7,Promise.all(r);case 7:return t.initSectionsManager(n),t.initComponentsManager(n),t.initElementsManager(n),e.next=12,t.$nextTick();case 12:t.updateActiveDevice(t.getUserDevice()),t.scrollToSectionOfAppropriateAnchorName(),(t.$lwGates.hasNpsManagePermission()||t.$lwGates.hasQualificationManagePermission())&&null!=o&&o.dataCollectionPreview&&o.assessmentId&&t.previewDataCollectionPopups(o),t.isInEbookPage&&(S.Z.startInactivityHandler(),S.Z.informUnitLoaded(_.g1.PB_EBOOK,t.unitId),s=(0,i.Z)(document.querySelectorAll("#pageContent [data-node-type]")).map((function(t){return t.id})),Promise.all(s.map(function(){var e=(0,a.Z)(c().mark((function e(n){var o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.onNodeStateMounted(n);case 2:return o=e.sent,e.next=5,o.onCreationComplete();case 5:return e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(t){!!t.find((function(t){if((null==t||!t.inPopup)&&(0,St.pn)(t.myNode))return"audio"===t.componentType&&t.audioSource||"screen"===t.elementType&&t.isVideoActive&&t.hasVideoData||"embed"===t.elementType&&!!t.getEmbed()}))&&S.Z.startContinuousActivityDetected()})),t.initFinished=!0);case 16:case"end":return e.stop()}}),e)})))()},onNodeStateMounted:function(t){var e=this;return new Promise((function(n){var o=e.$watch((function(){return e.findNodeState(t)}),(function(t){t&&(o(),n(t))}),{immediate:!0})}))},previewDataCollectionPopups:function(t){var e=t.dataCollectionPreview,n=void 0===e?null:e,o=t.assessmentId,i=void 0===o?null:o,a=t.isMandatory,r=void 0===a?null:a,s=t.popupSettings,l=void 0===s?null:s;if(n&&i){var c,u,d,E=l&&null!==(c=JSON.parse(atob(decodeURIComponent(l))))&&void 0!==c?c:{},h=null!==(u=E.popupType)&&void 0!==u?u:Y.HJ.DIALOG,v=(0,X.m)(E);this.$store.dispatch("popup/openPopupProgrammaticallyFromTemplate",{templateName:null!==(d=Y.d8[h])&&void 0!==d?d:"PopupInternalSurveyDialog",templateData:bt(bt({assessmentId:i},v),{},{disableClose:!!parseInt(r,10)}),popupSectionData:{popupType:h,disableCloseOnOverlayClick:!0},id:"".concat(i,"_").concat(h)},{root:!0})}},scrollToInitialSection:function(){var t=window.location.hash;if(t){var e=!1;try{e=document.querySelector(t)}catch(t){console.log(t)}if(e&&(0,St.pn)(e))e.scrollIntoView();else if(e)var n=0,o=setInterval((function(){n++,(0,St.pn)(e)&&(e.scrollIntoView(),clearInterval(o)),n>=10&&clearInterval(o)}),500)}},getUserDevice:function(){for(var t=getViewPortWidth(),e="desktop",n=0,i=Object.entries(this.deviceBreakpoints);n<i.length;n++){var a=(0,o.Z)(i[n],2),r=a[0],s=a[1];t<=s.maxWidth&&t>=s.minWidth&&(e=r)}return e},updateActiveDevice:function(t){t!==this.activeDevicePreview&&this.setActiveDevicePreview(t)},onWindowResize:h()((function(){this.checkViewportDimensions(),this.updateActiveDevice(this.getUserDevice())}),150),initFunnelEvents:function(){window.funnelBounceEventCallback=this.sendBounceFunnelEvent,window.funnelTraverseEventCallback=this.sendTraverseFunnelEvent,this.funnelVisitTimestamp=(new Date).getTime(),this.sendFunnelEvent(m),window.addEventListener("beforeunload",window.funnelBounceEventCallback)},setRootFontSize:function(t){var e=this.responsiveFontScale,n=10*this.availableDevicePreviews[t].fontScale/100;e&&e[t]&&(n=10*e[t]/100),document.documentElement.style.setProperty("font-size","".concat(n,"px"))},sendBounceFunnelEvent:function(){return this.sendFunnelEvent(f)},sendTraverseFunnelEvent:function(){return this.sendFunnelEvent(T)},sendFunnelEvent:function(t){var e,n,o,i,a,r,s,l,c,u;if(!this.funnelEventsSent.includes(t)&&g.includes(t)&&this.funnelAnalyticsTrackingFlag&&!this.isAdmin){var d={eventType:t,timestamp:(new Date).getTime(),anonId:null!==(e=null===(n=this.user)||void 0===n?void 0:n.anonymousToken)&&void 0!==e?e:null,userId:null!==(o=null===(i=this.user)||void 0===i?void 0:i.id)&&void 0!==o?o:null,funnelId:null!==(a=null===(r=this.pageContext)||void 0===r||null===(s=r.params)||void 0===s?void 0:s.funnelId)&&void 0!==a?a:null,stepId:null!==(l=null===(c=this.pageContext)||void 0===c||null===(u=c.params)||void 0===u?void 0:u.id)&&void 0!==l?l:null,funnelHash:"",isLastStep:""};[f,T].includes(t)&&(d.duration=this.funnelVisitTimestamp>0?Math.round(((new Date).getTime()-this.funnelVisitTimestamp)/1e3):null),I(d)&&this.funnelEventsSent.push(t)}}}),components:{PreviewComponentsManager:y.Z,PreviewSectionsManager:L.Z,PopupNotifications:j.Z,InactivityWatcher:x,AdminNavigationTooltip:P.Z,PreviewElementsManager:M.Z,ImpersonationFooter:K.Z,PageBuilderEnvironmentTools:N.Z,EbookLearnerTools:Ct}});var Lt=(0,J.X)(),Rt=Lt.initEmailVerification,Mt=Lt.ticker,Pt=Lt.isTemplatePreviewPage,Ut=(0,Ot.C)(),kt=Ut.setPermit,Ft=Ut.setChannels;(0,O.w)((function(){Pt()||Rt(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return window.location.href.toString().includes(t)}("email-verification-pending")&&Mt(),(0,z.s_)(),(0,z.qm)()})),document.body.addEventListener("sign-in-response-received",(function(t){kt(t.detail.data.permit),Ft(t.detail.data.channels),window.location.reload()}))},45433:(t,e,n)=>{n.d(e,{Z:()=>i});n(38862),n(92222);var o=window.server;const i={post:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=new FormData;i.append("data",JSON.stringify(e)),i.append("_token",getUserToken());var a="".concat(o).concat(t);if(window.navigator.sendBeacon)return window.navigator.sendBeacon(a,i);var r=new XMLHttpRequest;r.open("POST",a,n),r.send(i)}}},45872:(t,e,n)=>{n.d(e,{Z:()=>T});n(47941),n(82526),n(38880),n(49337),n(33321),n(69070);var o=n(15671),i=n(43144),a=n(4942),r=n(86033),s=n(13092),l=(n(21703),n(96647),n(38862),n(3843),n(83710),n(32564),n(89554),n(41539),n(54747),n(57658),n(57327),n(66992),n(78783),n(4129),n(33948),n(96486)),c=n(68485);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){(0,a.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function E(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}var h=["mousedown","mousemove","keydown","scroll","touchstart","pointermove"],v={inactiveTime:null,timeToAbort:null,messageTitle:window.LWTranslate.get("api.user_inactivity_title"),messageDescription:window.LWTranslate.get("api.user_inactivity_description")},p=new WeakMap,A=new WeakMap,m=new WeakMap,f=new WeakMap,T=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.me.id;if((0,o.Z)(this,t),(0,a.Z)(this,"inactivitySettings",null),(0,a.Z)(this,"userId",window.me.id),(0,a.Z)(this,"debugEnabled",!0),E(this,p,{writable:!0,value:null}),E(this,A,{writable:!0,value:!1}),E(this,m,{writable:!0,value:null}),E(this,f,{writable:!0,value:[]}),(0,a.Z)(this,"movementDetectedCallback",(0,l.throttle)((function(){(0,r.Z)(n,A)||(n.debug("Movement detected"),n.markActivityDetected())}),5e3)),!e)throw new Error("Inactivity watcher created without providing inactivity settings");this.inactivitySettings=d(d({},v),e),this.userId=i}return(0,i.Z)(t,[{key:"localStorageInactivityDataKey",get:function(){return"inactivitySettings_".concat(this.userId)}},{key:"localStorageInactivityData",get:function(){var t;return JSON.parse(null!==(t=window.localStorage.getItem(this.localStorageInactivityDataKey))&&void 0!==t?t:"{}")},set:function(t){window.localStorage.setItem(this.localStorageInactivityDataKey,JSON.stringify(t))}},{key:"markActivityDetected",value:function(){var t={lastActivityTimestamp:Math.floor(Date.now()/1e3)};this.debug("Activity detected"),this.localStorageInactivityData=t}},{key:"keepActive",value:function(){var t=this;this.debug("Keep active enabled"),(0,s.Z)(this,m,window.setInterval((function(){t.markActivityDetected()}),5e3))}},{key:"stopKeepActive",value:function(){this.debug("Keep active stopped"),(0,r.Z)(this,m)&&clearInterval((0,r.Z)(this,m))}},{key:"triggerInactivityPopup",value:function(){var t=this;if(!(0,r.Z)(this,A)){this.debug("Triggered popup");var e=this.inactivitySettings,n=e.messageTitle,o=e.messageDescription;(0,s.Z)(this,A,!0),window.showMessage(c.zG.ALERT,n,o,[{name:window.LWTranslate.get("common.ok"),func:function(){(0,s.Z)(t,A,!1),t.markActivityDetected()}}])}}},{key:"triggerLogout",value:function(){this.debug("Triggered logout"),localStorage.removeItem(this.localStorageInactivityDataKey),(0,r.Z)(this,f).forEach((function(t){return t()})),this.clearBeforeLogoutHooks(),window.isUserImpersonationEnabled()?window.stopImpersonateUser():window.location.href="/signout"}},{key:"inactivityTick",value:function(){var t=Math.floor(Date.now()/1e3),e=this.localStorageInactivityData.lastActivityTimestamp,n=void 0===e?t:e,o=this.inactivitySettings,i=o.inactiveTime,a=o.timeToAbort,r=t-n,s=60*i,l=r>=s&&!isMobile();l&&this.triggerInactivityPopup();var c=r>=s+a;c&&(this.stop(),this.triggerLogout()),this.debug("Inactivity tick",{secondsInactive:r,secondsOfAllowedInactivity:s,shouldTriggerLogout:c,nowTimestamp:t,shouldTriggerPopup:l,timeToAbort:a})}},{key:"start",value:function(){var t=this;(0,s.Z)(this,p,window.setInterval((function(){return t.inactivityTick()}),5e3)),this.wireActivityDetectionEvents(),this.debug("Started")}},{key:"stop",value:function(){(0,r.Z)(this,p)&&(window.clearInterval((0,r.Z)(this,p)),(0,s.Z)(this,p,null)),this.removeInactivityDetectionEvents(),this.debug("Stopped")}},{key:"wireActivityDetectionEvents",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;h.forEach((function(n){e.addEventListener(n,t.movementDetectedCallback,{passive:!0})}))}},{key:"removeInactivityDetectionEvents",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;h.forEach((function(n){e.removeEventListener(n,t.movementDetectedCallback,{passive:!0})}))}},{key:"addBeforeLogoutHook",value:function(t){(0,r.Z)(this,f).push(t)}},{key:"removeBeforeLogoutHooks",value:function(t){(0,s.Z)(this,f,(0,r.Z)(this,f).filter((function(e){return t!==e})))}},{key:"clearBeforeLogoutHooks",value:function(){(0,s.Z)(this,f,[])}},{key:"debug",value:function(t,e){this.debugEnabled&&(console.log("Inactivity watcher: ".concat(t)),e&&console.log(e))}}]),t}()},42792:(t,e,n)=>{n.d(e,{Z:()=>u});n(47941),n(82526),n(57327),n(41539),n(38880),n(57658),n(89554),n(54747),n(49337),n(33321),n(69070);var o=n(4942),i=(n(26699),n(32023),n(26833),n(32564),n(68485)),a=n(30536),r=n(94239);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){(0,o.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var c=function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};window.parent&&window.parent.postMessage({eventType:t,unitType:e,data:l({unitId:n},o)},"*")};const u={continuousActivityDetectedInterval:null,informUnitLoaded:function(t,e){Object.values(r.g1).includes(t)?c(i.QV.UNIT_LOADED,t,e):console.error("Invalid unit type '".concat(t,"'"))},informSurveySubmitted:function(t,e){(0,a.gH)(t)?c(i.QV.SURVEY_SUBMITTED,t,e):console.error("Invalid assessment type '".concat(t,"'"))},informAssessmentSubmitted:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,a.gH)(t)?c(i.QV.ASSESSMENT_SUBMITTED,t,e,{markAsComplete:n}):console.error("Invalid assessment type '".concat(t,"'"))},informAssessmentGraded:function(t,e,n){(0,a.gH)(t)?c(i.QV.ASSESSMENT_GRADED,t,e,{pass:n}):console.error("Invalid assessment type '".concat(t,"'"))},informActivityDetected:function(){window.top.postMessage({message:"activityDetected"},"*")},startInactivityHandler:function(){try{var t,e;null===(t=window.parent)||void 0===t||null===(e=t.topBar)||void 0===e||e.inactivityHandler(window.document)}catch(t){console.error("Failed starting inactivity handler",t)}},startContinuousActivityDetected:function(){var t=this;this.interval&&this.stopContinuousActivityDetected(),this.interval=window.setInterval((function(){t.informActivityDetected()}),1e3)},stopContinuousActivityDetected:function(){window.clearInterval(this.interval),this.interval=null}}},60492:(t,e,n)=>{n.d(e,{$g:()=>qt,$m:()=>b,$w:()=>it,Aw:()=>U,Az:()=>S,BE:()=>pt,CP:()=>A,Ce:()=>Vt,DT:()=>vt,Dl:()=>Pt,Es:()=>Bt,Eu:()=>Zt,F$:()=>Nt,F1:()=>Rt,Fb:()=>j,Fl:()=>ut,Ht:()=>Ot,Hx:()=>$,Ik:()=>D,Jw:()=>Mt,Kt:()=>q,Kw:()=>g,Lc:()=>C,Lu:()=>ct,N4:()=>x,N_:()=>X,P0:()=>Gt,PN:()=>lt,Py:()=>m,Q5:()=>d,S4:()=>wt,S9:()=>Ht,ST:()=>Dt,St:()=>z,Tl:()=>It,UC:()=>At,UD:()=>bt,Uo:()=>_t,Us:()=>Jt,Vy:()=>p,Ww:()=>T,X:()=>N,ZO:()=>xt,ZU:()=>ot,_:()=>J,_A:()=>Xt,aP:()=>K,b2:()=>Et,bF:()=>v,cl:()=>te,db:()=>zt,e$:()=>G,eD:()=>E,fe:()=>Ct,hI:()=>ee,ie:()=>kt,ig:()=>I,j:()=>Lt,k8:()=>st,kS:()=>rt,lg:()=>ft,mF:()=>Y,mW:()=>yt,mn:()=>_,nr:()=>at,oU:()=>mt,p:()=>H,pN:()=>et,pn:()=>Ft,pz:()=>nt,qY:()=>St,r$:()=>Q,rI:()=>$t,rc:()=>jt,s2:()=>f,tK:()=>h,uH:()=>Yt,uR:()=>V,vK:()=>Qt,vU:()=>tt,w2:()=>O,w5:()=>Ut,wF:()=>Wt,x5:()=>F,xJ:()=>Tt,xe:()=>B,xy:()=>ht,y3:()=>W,yF:()=>k,yJ:()=>Z,yp:()=>gt,zi:()=>dt,zy:()=>Kt});n(47941),n(82526),n(38880),n(57658),n(89554),n(54747),n(49337),n(33321),n(69070);var o,i,a,r,s,l,c=n(4942);n(57327),n(41539),n(26833),n(24603),n(28450),n(74916),n(88386),n(39714);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}var d={SURVEY:"survey",ASSESSMENT:"assessment",CERTIFICATE:"certificate",CERTIFICATE_COMPLETION:"certificateCompletion",QUESTION_BANK:"questionBank"},E=(o={},(0,c.Z)(o,d.SURVEY,"form"),(0,c.Z)(o,d.ASSESSMENT,"assessment"),(0,c.Z)(o,d.CERTIFICATE,"certificate"),(0,c.Z)(o,d.CERTIFICATE_COMPLETION,"completion certificate"),(0,c.Z)(o,d.QUESTION_BANK,"question Bank"),o),h=[d.ASSESSMENT,d.CERTIFICATE],v={MC:"mc",MC_IMAGE:"mcImage",MC_VIDEO:"mcVideo",MC_ADVANCED:"mcAdvanced",MCMA:"mcma",MCMA_IMAGE:"mcmaImage",MCMA_VIDEO:"mcmaVideo",MCMA_ADVANCED:"mcmaAdvanced",MCMA_PRODUCT:"mcmaProduct",TRUE_FALSE:"trueFalse",CONSENT:"consent",OPEN_ENDED:"openEnded",DATE:"date",TIME:"time",DATE_TIME:"dateTime",PHONE:"phone",DROPDOWN:"dropdown",COUNTRY_LIST:"countryList",INPUT_BLOCK:"inputBlock",FILL_IN_THE_BLANK_BLOCK:"fillInTheBlankBlock",URL:"url",EMAIL:"email",RATING:"rating",LINEAR:"linear",CONTENT:"content",FIRST_NAME:"firstName",FULL_NAME:"fullName",FILE_UPLOAD:"fileUpload",WEBCAM_UPLOAD:"webcamUpload",AUDIO_UPLOAD:"audioUpload",CERTIFICATE_FULL_NAME:"certificateFullName",CERTIFICATE_INPUT:"certificateInput",CERTIFICATE_DROPDOWN:"certificateDropdown",CERTIFICATE_PTIN:"certificatePTIN",CERTIFICATE_DATE:"certificateDate",ORDERING:"ordering",MATCH:"match"},p=[v.TRUE_FALSE,v.MC,v.MC_IMAGE,v.MC_VIDEO,v.MC_ADVANCED,v.MCMA,v.MCMA_IMAGE,v.MCMA_VIDEO,v.MCMA_ADVANCED],A=[v.MC,v.MC_IMAGE,v.MC_VIDEO,v.MC_ADVANCED,v.TRUE_FALSE],m=[v.MCMA,v.MCMA_IMAGE,v.MCMA_VIDEO,v.MCMA_ADVANCED,v.CONSENT,v.MCMA_PRODUCT],f=[v.FILE_UPLOAD,v.OPEN_ENDED,v.WEBCAM_UPLOAD,v.AUDIO_UPLOAD],T=[v.CERTIFICATE_DATE,v.CERTIFICATE_DROPDOWN,v.CERTIFICATE_FULL_NAME,v.CERTIFICATE_INPUT,v.CERTIFICATE_PTIN],g=[v.MC,v.TRUE_FALSE,v.MCMA,v.CONSENT,v.DROPDOWN,v.COUNTRY_LIST,v.RATING,v.LINEAR,v.MC_IMAGE,v.MC_VIDEO,v.MC_ADVANCED,v.MCMA_IMAGE,v.MCMA_VIDEO,v.MCMA_ADVANCED,v.ORDERING,v.MATCH],C={ANIMATION:"animation",LOAD_MORE:"loadMore",BUTTON:"button",DATE:"date",EMBED:"embed",ICON:"icon",IMAGE:"image",INPUT:"input",REVIEW_ASSESSMENT:"reviewAssessment",SCREEN:"screen",SPACER:"spacer",SVG:"svg",TEXT:"text",USER_RESULTS:"userResults",FEEDBACK:"feedback",FILE_ATTACHMENT:"fileAttachment",OUTRO_ACTIONS:"outroActions",CERTIFICATE_REQUIREMENTS:"certificateRequirements",REFERENCE:"referenceWidget",AUDIO:"audio",MATH_TEXT:"mathText",CODE_BLOCK:"codeBlock"},I=(i={},(0,c.Z)(i,C.ANIMATION,"Animation"),(0,c.Z)(i,C.BUTTON,"Button"),(0,c.Z)(i,C.DATE,"Date"),(0,c.Z)(i,C.EMBED,"Embed"),(0,c.Z)(i,C.ICON,"Icon"),(0,c.Z)(i,C.IMAGE,"Image"),(0,c.Z)(i,C.INPUT,"Input"),(0,c.Z)(i,C.REVIEW_ASSESSMENT,"Review Assessment"),(0,c.Z)(i,C.SCREEN,"Screen"),(0,c.Z)(i,C.SPACER,"Spacer"),(0,c.Z)(i,C.SVG,"Svg"),(0,c.Z)(i,C.TEXT,"Text"),(0,c.Z)(i,C.USER_RESULTS,"User Results"),(0,c.Z)(i,C.FILE_ATTACHMENT,"File Attachment"),(0,c.Z)(i,C.OUTRO_ACTIONS,"Outro Actions"),(0,c.Z)(i,C.CERTIFICATE_REQUIREMENTS,"Certificate Requirements"),(0,c.Z)(i,C.REFERENCE,"Previous Response"),(0,c.Z)(i,C.AUDIO,"Audio"),(0,c.Z)(i,C.MATH_TEXT,"Math"),(0,c.Z)(i,C.CODE_BLOCK,"Code Block"),i),O={TRUE_FALSE:"true-false-option",CONSENT:"consent-option",DROPDOWN:"dropdown-option",LINEAR:"linear-option",INPUT:"input-option",MC:"mc-option",MC_OTHER:"mc-option-other",MC_IMAGE:"mc-image-option",MC_VIDEO:"mc-video-option",MC_ADVANCED:"mc-advanced-option",MCMA:"mcma-option",MCMA_OTHER:"mcma-option-other",MCMA_IMAGE:"mcma-image-option",MCMA_VIDEO:"mcma-video-option",MCMA_ADVANCED:"mcma-advanced-option",MCMA_PRODUCT:"mcma-product-option",ORDERING:"ordering-option",MATCH:"match-option",BLANK_INPUT:"blank-input-option"},S=[O.TRUE_FALSE,O.CONSENT,O.MC,O.MC_OTHER,O.MC_IMAGE,O.MC_VIDEO,O.MC_ADVANCED,O.MCMA,O.MCMA_OTHER,O.MCMA_IMAGE,O.MCMA_VIDEO,O.MCMA_ADVANCED],_={VIEW_ALL:"view-all",PER_BLOCK:"per-block",PER_SECTION:"per-section",STRICT:"strict"},N=(a={},(0,c.Z)(a,_.VIEW_ALL,"Classic"),(0,c.Z)(a,_.PER_BLOCK,"Card-based"),(0,c.Z)(a,_.PER_SECTION,"Section-based"),(0,c.Z)(a,_.STRICT,"Card-based / Submit as you go"),a),D={PER_BLOCK:"per-block",ALL:"all"},b={OPEN:"open",CLOSED:"closed",SCHEDULED:"scheduled"},w="#FFF",y="#333",L="#4A7DFF",R="#FFCC4A",M="#B348E5",P="#F2994A",U=(r={},(0,c.Z)(r,v.MCMA,{icon:"select-multiple",textColor:w,labelColor:L}),(0,c.Z)(r,v.DROPDOWN,{icon:"select-single",textColor:w,labelColor:L}),(0,c.Z)(r,v.COUNTRY_LIST,{icon:"country-list",textColor:w,labelColor:L}),(0,c.Z)(r,v.MCMA_PRODUCT,{icon:"mcma-product",textColor:y,labelColor:P}),(0,c.Z)(r,v.MC,{icon:"select-single",textColor:w,labelColor:L}),(0,c.Z)(r,v.CONSENT,{icon:"consent",textColor:w,labelColor:L}),(0,c.Z)(r,v.TRUE_FALSE,{icon:"select-single",textColor:w,labelColor:L}),(0,c.Z)(r,v.RATING,{icon:"rating",textColor:w,labelColor:L}),(0,c.Z)(r,v.LINEAR,{icon:"linear",textColor:w,labelColor:L}),(0,c.Z)(r,v.OPEN_ENDED,{icon:"text-large",textColor:y,labelColor:R}),(0,c.Z)(r,v.FULL_NAME,{icon:"user-details",textColor:y,labelColor:R}),(0,c.Z)(r,v.FIRST_NAME,{icon:"user-details",textColor:y,labelColor:R}),(0,c.Z)(r,v.FILE_UPLOAD,{icon:"file-upload",textColor:y,labelColor:R}),(0,c.Z)(r,v.PHONE,{icon:"phone",textColor:y,labelColor:R}),(0,c.Z)(r,v.EMAIL,{icon:"email",textColor:y,labelColor:R}),(0,c.Z)(r,v.INPUT_BLOCK,{icon:"text-short",textColor:y,labelColor:R}),(0,c.Z)(r,v.URL,{icon:"url",textColor:y,labelColor:R}),(0,c.Z)(r,v.DATE,{icon:"calendar",textColor:w,labelColor:L}),(0,c.Z)(r,v.TIME,{icon:"calendar",textColor:w,labelColor:L}),(0,c.Z)(r,v.DATE_TIME,{icon:"calendar",textColor:w,labelColor:L}),(0,c.Z)(r,v.CONTENT,{icon:"content",textColor:w,labelColor:M}),(0,c.Z)(r,v.MC_IMAGE,{icon:"select-single",textColor:w,labelColor:L}),(0,c.Z)(r,v.MC_VIDEO,{icon:"select-single",textColor:w,labelColor:L}),(0,c.Z)(r,v.MC_ADVANCED,{icon:"select-single",textColor:w,labelColor:L}),(0,c.Z)(r,v.MCMA_IMAGE,{icon:"select-multiple",textColor:w,labelColor:L}),(0,c.Z)(r,v.MCMA_VIDEO,{icon:"select-multiple",textColor:w,labelColor:L}),(0,c.Z)(r,v.MCMA_ADVANCED,{icon:"select-multiple",textColor:w,labelColor:L}),(0,c.Z)(r,v.WEBCAM_UPLOAD,{icon:"webcam-upload",textColor:y,labelColor:R}),(0,c.Z)(r,v.AUDIO_UPLOAD,{icon:"audio-upload",textColor:y,labelColor:R}),(0,c.Z)(r,v.MATCH,{icon:"match",textColor:w,labelColor:L}),(0,c.Z)(r,v.ORDERING,{icon:"ordering",textColor:w,labelColor:L}),(0,c.Z)(r,v.FILL_IN_THE_BLANK_BLOCK,{icon:"fill-in-the-blank",textColor:y,labelColor:R,size:"full"}),r),k={ALL:"all",UNANSWERED:"unanswered",BOOKMARKED:"bookmarked"},F={NO_FEEDBACK:"no",ADVANCED_FEEDBACK:"advanced",DEFAULT_FEEDBACK:"default"},B={IMAGE:"image",SVG:"svg",COLOR:"color",VIDEO:"video",EMBED:"embed"},Z={SMALL:"small",NORMAL:"normal",LARGE:"large",FULL:"full"},x={EDGES:1,ABOVE:2},j={DRAW:"draw",REALISTIC:"realistic",OUTLINE:"outline",RESET_MY_STYLE_CLASSES:"resetMyStyleClasses"},G={FRAME:"frame",FRAME_1_1:"frame-1-1",FRAME_9_6:"frame-9-16",LAPTOP_WHITE:"laptop-white",LAPTOP_BLACK:"laptop-black",TABLET_LANDSCAPE_WHITE:"tablet-landscape-white",TABLET_LANDSCAPE_BLACK:"tablet-landscape-black",TABLET_PORTRAIT_WHITE:"tablet-portrait-white",TABLET_PORTRAIT_BLACK:"tablet-portrait-black",SMARTPHONE_LANDSCAPE_WHITE:"smartphone-landscape-white",SMARTPHONE_LANDSCAPE_BLACK:"smartphone-landscape-black",SMARTPHONE_PORTRAIT_WHITE:"smartphone-portrait-white",SMARTPHONE_PORTRAIT_BLACK:"smartphone-portrait-black"},H={VERTICAL_RECTANGLE:"vertical-rectangle",SQUARE:"square",HORIZONTAL_RECTANGLE:"horizontal-rectangle",ADAPTIVE:"adaptive"},V={H1:"h1",H2:"h2",H3:"h3",H4:"h4",PARAGRAPH:"p",QUOTE:"quote",OVERLINE:"overline"},W={VERY_SMALL:"verySmall",TINY:"tiny",LARGE:"large",NORMAL:"normal",SMALL:"small",VERY_LARGE:"veryLarge",HUGE:"huge"},q={h1:"h1",h2:"h2",h3:"h3",h4:"h4",p:"p",div:"p"},K=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({SOLID_BRAND:"solidBrand",SOLID_ACCENT_1:"solidAccent1",SOLID_ACCENT_2:"solidAccent2",SOLID_LIGHT:"solidLight",SOLID_DARK:"solidDark",OUTLINE_BRAND:"outlineBrand",OUTLINE_ACCENT_1:"outlineAccent1",OUTLINE_ACCENT_2:"outlineAccent2",OUTLINE_LIGHT:"outlineLight",OUTLINE_DARK:"outlineDark",SOLID_BODY:"solidBody",OUTLINE_BODY:"outlineBody",TEXT_ONLY_BRAND:"textOnlyBrand",TEXT_ONLY_ACCENT_1:"textOnlyAccent1",TEXT_ONLY_ACCENT_2:"textOnlyAccent2"},{BORDER_BOTTOM_BRAND:"borderBottomBrand",BORDER_BOTTOM_ACCENT_1:"borderBottomAccent1",BORDER_BOTTOM_ACCENT_2:"borderBottomAccent2",BORDER_BOTTOM_LIGHT:"borderBottomLight",BORDER_BOTTOM_DARK:"borderBottomDark"}),Q={BRAND:"brand",ACCENT_1:"accent1",ACCENT_2:"accent2",LIGHT:"light",DARK:"dark",BODY:"body"},Y={FULL:"full",NORMAL:"normal",WIDE_EBOOK:"wide-ebook",NARROW_EBOOK:"narrow-ebook"},$={EXTRA_SMALL:"extra_small",SMALL:"small",NORMAL:"normal",LARGE:"large",EXTRA_LARGE:"extra_large"},X={VERYCOMFORT:"verycomfort",COMFORT:"comfort",NORMAL:"normal",CONDENSED:"condensed",TIGHT:"tight",VERYTIGHT:"verytight"},z={DEFAULT:"default",RELAXED:"relaxed",CONDENSED:"condensed"},J={STACKED:"stacked",STACKED_NO_NUMBER:"stacked-no-number",GRID:"grid",TWO_COLUMN:"two-column"},tt={TAB:{GENERAL:"general",BACKGROUND:"background",TYPOGRAPHY:"typography",NAVIGATION:"navigation",EFFECTS:"effects"}},et=[{label:"Solid brand",value:K.SOLID_BRAND},{label:"Solid accent1",value:K.SOLID_ACCENT_1},{label:"Solid accent2",value:K.SOLID_ACCENT_2},{label:"Solid light",value:K.SOLID_LIGHT},{label:"Solid dark",value:K.SOLID_DARK},{label:"Outline brand",value:K.OUTLINE_BRAND},{label:"Outline accent1",value:K.OUTLINE_ACCENT_1},{label:"Outline accent2",value:K.OUTLINE_ACCENT_2},{label:"Outline light",value:K.OUTLINE_LIGHT},{label:"Outline dark",value:K.OUTLINE_DARK}],nt={TEXTICON:"textIcon",TEXT:"text",ICON:"icon"},ot={AUTO:"auto",FULL_WIDTH:"fullWidth"},it={PAGE_LOADS:"pageLoads",GETS_IN_VIEW:"getsInView",HOVERED:"hovered",NEVER:"never"},at={TEXT:"text",SOLID_BRAND_CIRCLE:"solidBrandCircle",SOLID_BRAND_SQUARE:"solidBrandSquare",SOLID_ACCENT_1_CIRCLE:"solidAccent1Circle",SOLID_ACCENT_1_SQUARE:"solidAccent1Square",SOLID_ACCENT_2_CIRCLE:"solidAccent2Circle",SOLID_ACCENT_2_SQUARE:"solidAccent2Square",SOLID_LIGHT_CIRCLE:"solidLightCircle",SOLID_LIGHT_SQUARE:"solidLightSquare",SOLID_DARK_CIRCLE:"solidDarkCircle",SOLID_DARK_SQUARE:"solidDarkSquare",OUTLINE_BRAND_CIRCLE:"outlineBrandCircle",OUTLINE_BRAND_SQUARE:"outlineBrandSquare",OUTLINE_ACCENT_1_CIRCLE:"outlineAccent1Circle",OUTLINE_ACCENT_1_SQUARE:"outlineAccent1Square",OUTLINE_ACCENT_2_CIRCLE:"outlineAccent2Circle",OUTLINE_ACCENT_2_SQUARE:"outlineAccent2Square",OUTLINE_LIGHT_CIRCLE:"outlineLightCircle",OUTLINE_LIGHT_SQUARE:"outlineLightSquare",OUTLINE_DARK_CIRCLE:"outlineDarkCircle",OUTLINE_DARK_SQUARE:"outlineDarkSquare",SOLID_BODY_CIRCLE:"solidBodyCircle",SOLID_BODY_SQUARE:"solidBodySquare",OUTLINE_BODY_CIRCLE:"outlineBodyCircle",OUTLINE_BODY_SQUARE:"outlineBodySquare"},rt={STAR:"star",TROPHY:"trophy",HEART:"heart",LIKE:"like",CROWN:"crown",GRADUATION:"graduation"},st={SMALL:"small",NORMAL:"normal",LARGE:"large"},lt={SMALL:"small",NORMAL:"normal",LARGE:"large"},ct={NUMBERED:"numbered",TICK_OUTLINE:"numberedWithOutline",CLASSIC:"classic",SCRIBBLE:"scribble"},ut={CLASSIC:"classic",TICK_SOLID:"tickSolid",SCRIBBLE:"scribble",TICK_OUTLINE:"tickOutline"},dt={NONE:"none",FADE:"fade",HORIZONTAL_TRANSLATE:"horizontalTranslate",VERTICAL_TRANSLATE:"verticalTranslate"},Et={SHOW_INDEX:"showIndex",DO_NOTHING:"doNothing"},ht={LEFT:"left",CENTER:"center",RIGHT:"right",JUSTIFY:"justify"},vt={PAGE:"page",ASSESSMENT:"assessment",BLOCK:"block",NAVIGATION_BAR:"navigationBar"},pt=Object.values(v).filter((function(t){return t!==v.CONTENT})),At={NORMAL:"normal",LARGE:"large"},mt={RETAKE_QUESTIONNAIRE:"retakeQuestionnaire",GO_TO_FIRST:"goToFirst",GO_TO_NEXT:"startQuestionnaire",GO_TO_PREVIOUS:"goToPrevious",GO_TO_QUESTION:"goToQuestion",SUBMIT_QUESTIONNAIRE:"submitQuestionnaire",CLOSE_QUALIFICATION_FORM:"closeQualificationForm"},ft={RESTART:"restart",AFTER_SUBMIT:"after-submit"},Tt={AUTHORING:"authoring",PREVIEW:"preview"},gt={CREATE:"Form create",DUPLICATE:"Form duplicate",THEME_EXPLORER_SAVE:"Form theme explorer save",SAVE:"Form save",VIEW:"Form view"},Ct={CREATE:"Assessment create qbank",DUPLICATE:"Assessment duplicate qbank",SAVE:"Assessment save qbank",VIEW:"Assessment view qbank"},It={CREATE:"Assessment create",PREVIEW:"Assessment preview",SAVE:"Assessment save",SAVE_SETTINGS:"Assessment settings save",MIGRATE_PHASE_1:"Assessment migrate phase1",MIGRATE_PHASE_2:"Assessment migrate phase2",ADD_BLOCK:"Assessment add question",IMPORT_FROM_QBANK:"Assessment import from qbank",IMPORT_FROM_OTHER_ASSESSMENT:"Assessment import from other assessment",IMPORT_FROM_FILE:"Assessment import from file",CERTIFICATE_ADD_BLOCK:"Certificate add field",CHANGE_NAVIGATION:"Assessment change navigation",CERTIFICATE_CHANGE_PDF:"Certification change pdf",FORM_ADD_BLOCK:"Form add question"},Ot={ADD_BLOCK_CATEGORY_FORM:"form",ADD_BLOCK_CATEGORY_EXAM:"exam",ADD_BLOCK_CATEGORY_CONTENT_BLOCK:"content_block"},St={FORM_TYPE_MARKETING:"marketing",FORM_TYPE_COURSE:"course",THEME_EXPLORER_STYLES_CUSTOM:"custom",THEME_EXPLORER_STYLES_GLOBAL:"global",VIEW_TYPE_STANDALONE:"standalone",VIEW_TYPE_COURSE:"course",VIEW_TYPE_PAGEBUILDER:"pagebuilder"},_t={ROOT:"systemSections",CERTIFICATE:"certificateKeys"},Nt={DISABLED:!1,PER_QUESTION:"questionTimed",WHOLE_ASSESSMENT:"assessmentTimed"},Dt={AUTO_SUBMIT:"autoSubmit",ALLOW_OUT_OF_TIME_SUBMISSION:"allowOutOfTimeSubmission"},bt={ALL:"all",PER_SECTION:"per-section"},wt={NONE:"none",PER_SECTION:"per-section"},yt={HIGHEST_GRADE:"highest",LATEST_SUBMISSION:"last"},Lt={ALL_QUESTIONS:"all-questions",CORRECT_QUESTIONS:"correct-questions",WRONG_QUESTIONS:"wrong-questions",ANSWERED_QUESTIONS:"answered-questions",UNANSWERED_QUESTIONS:"unanswered-questions"},Rt=[{label:"All questions",value:Lt.ALL_QUESTIONS},{label:"Only questions the learner answered",value:Lt.ANSWERED_QUESTIONS},{label:"Only questions the learner left unanswered",value:Lt.UNANSWERED_QUESTIONS},{label:"Only questions answered correctly",value:Lt.CORRECT_QUESTIONS},{label:"Only questions answered incorrectly",value:Lt.WRONG_QUESTIONS}],Mt=[{label:"All questions",value:Lt.ALL_QUESTIONS},{label:"Only questions the learner answered",value:Lt.ANSWERED_QUESTIONS},{label:"Only questions the learner left unanswered",value:Lt.UNANSWERED_QUESTIONS}],Pt={PASS:"pass",FAIL:"fail",PENDING:"pending",PENDING_PARTIAL_SCORE:"pendingWithPartialScore",REVIEWED:"reviewed",PENDING_UNGRADED:"pendingUngraded"},Ut=[Pt.PENDING,Pt.PENDING_UNGRADED,Pt.PENDING_PARTIAL_SCORE],kt={PASS:"far fa-check-circle",FAIL:"fas fa-times",PENDING:"fas fa-lock",REVIEWED:"fas fa-comment-dots",PENDING_UNGRADED:"fas fa-lock"},Ft={PASS:"You passed!",FAIL:"Sorry... you failed",PENDING:"Your final score is pending",REVIEWED:"Feedback",PENDING_UNGRADED:"Your feedback is pending"},Bt={QUESTION:"displayModeQuestion",ANSWER:"displayModeAnswer",BOTH:"displayModeBoth"},Zt={VERTICAL:"verticalLayoutTemplate",TWO_COLUMN:"twoColumnLayoutTemplate"},xt={NONE:"none",ALPHA_LOWER:"alphaLower",ALPHA_UPPER:"alphaUpper",NUMERAL_INT:"numeralInt",NUMERAL_ROMAN_LOWER:"numeralRomanLower",NUMERAL_ROMAN_UPPER:"numeralRomanUpper"},jt={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"},Gt={RECTANGLE:"rectangle",CIRCLE:"circle",RING:"ring",CLOCK:"clock"},Ht={FILE:"file",URL:"url"},Vt={SMALL:"small",NORMAL:"normal",LARGE:"large",FULL:"full"},Wt={TIMERS:"timers",ALL_CONTROLS:"all-controls",WAVE:"wave"},qt={CREATE:"create"},Kt=(s={},(0,c.Z)(s,d.SURVEY,"form"),(0,c.Z)(s,d.ASSESSMENT,"assessment"),(0,c.Z)(s,d.CERTIFICATE,"certificate"),(0,c.Z)(s,d.CERTIFICATE_COMPLETION,"certificate of completion"),(0,c.Z)(s,d.QUESTION_BANK,"question bank"),s),Qt={CLASS:"Class",CLASS_DESCRIPTION:"Class_description",AWARDED:"Awarded",DATE_DM:"Date_dm",DATE_MD:"Date_md",DATE_FORMATTED:"Date_formatted",SCORE:"Score",POINTS_EARNED:"Points_earned",POINTS_TOTAL:"Points_total",CREDITS:"Credits",ID:"Id",PTIN:"PTIN",LINK:"Link"},Yt={QUALIFICATION:"qualification",NPS:"nps"},$t=(l={},(0,c.Z)(l,Yt.QUALIFICATION,"Qualification"),(0,c.Z)(l,Yt.NPS,"NPS"),l),Xt={UNIT:"unit",PAGES_BUILDER:"pagesbuilder",EMBED:"embed",URL:"url",QUALIFICATION:Yt.QUALIFICATION,NPS:Yt.NPS},zt={TOC:"toc",SELF_ASSESSMENTS:"self-assessments",ASSESSMENTS:"assessments",COURSE_FORMS:"course-forms",MARKETING_FORMS:"marketing-forms",CERTIFICATES:"certificates",CERTIFICATES_OF_COMPLETION:"certificates-of-completion",QUESTION_BANKS:"question-banks"},Jt=new RegExp(/\[\]/g),te={ALL:"all",MY_ENROLLED:"my-enrolled",NOT_ENROLLED:"not-enrolled",BY_SUBSCRIPTION:"by-subscription",BY_BUNDLE:"by-bundle",BY_CATEGORY:"by-category",BY_AUTHOR:"by-author",WITH_CERTIFICATE:"with-certificate",CUSTOM_LIST:"custom-list"},ee=120},53865:(t,e,n)=>{n.d(e,{Z:()=>i});var o=window.imagePath;const i={tex:{inlineMath:[["$","$"]],displayMath:[["$$","$$"]]},options:{skipHtmlTags:["noscript","style","textarea","pre","code","annotation","annotation-xml"],includeHtmlTags:{br:"\n",wbr:"","#comment":""},ignoreHtmlClass:"tex2jax_ignore",enableMenu:!1},chtml:{fontURL:"".concat(o,"/commonless/fonts/mathjax")},startup:{typeset:!1}}},30536:(t,e,n)=>{n.d(e,{Lo:()=>p,Pp:()=>E,XI:()=>h,YP:()=>m,Zz:()=>v,dF:()=>A,gH:()=>u,js:()=>f});n(82526),n(57327),n(38880),n(57658),n(89554),n(54747),n(49337),n(33321),n(69070);var o,i=n(29439),a=n(4942),r=(n(26699),n(32023),n(26833),n(69826),n(41539),n(47941),n(21249),n(74916),n(23123),n(91058),n(92222),n(44048),n(9653),n(60492)),s=n(94239);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){(0,a.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t){return s.kM.includes(t)}var d=(o={},(0,a.Z)(o,r.Q5.SURVEY,s.g1.NEW_SURVEY),(0,a.Z)(o,r.Q5.ASSESSMENT,s.g1.ASSESSMENT_V2),(0,a.Z)(o,r.Q5.CERTIFICATE,s.g1.CERTIFICATE_V2),(0,a.Z)(o,r.Q5.CERTIFICATE_COMPLETION,s.g1.CERTIFICATE_COMPLETION_V2),o);function E(t){if(function(t){return Object.values(r.Q5).includes(t)}(t))return d[t];console.error("Invalid assessment type '".concat(t,"'"))}function h(t,e){return c(c({},t),{},{sections:t.sections.map((function(t){return c(c({},t),{},{blocks:t.blocks.map(e)})}))})}function v(t){return null!=t&&t.syncedGroupId&&delete t.syncedGroupId,t}function p(t){return c(c({},t),{},{feedbackShowUserAnswers:!0,feedbackShowCorrectAnswers:!0,feedbackShowAnswerCorrectness:!0,feedbackShowFeedback:!0,feedbackShowNumbering:!0,feedbackShowQuestionScore:!0,feedbackShowSectionTitles:!0,feedbackShowSectionResultSummary:!0,resultsSummary:c(c({},t.resultsSummary),{},{showScoreCorrectAnswers:!0,showStatusIcon:!1,showStatusText:!1})})}function A(t){return[r.bF.MC,r.bF.MC_IMAGE,r.bF.MC_VIDEO,r.bF.MC_ADVANCED,r.bF.TRUE_FALSE].includes(t)}function m(t){return[r.bF.MCMA,r.bF.MCMA_IMAGE,r.bF.MCMA_VIDEO,r.bF.MCMA_ADVANCED,r.bF.MCMA_PRODUCT].includes(t)}function f(t,e){var n=t.split(e),o=(0,i.Z)(n,2),a=o[0],r=o[1];if(!r)return[];var s=parseInt(r.split(".",2).pop(),10);return["".concat(a).concat(e),Number.isNaN(s)?null:s]}}},t=>{var e=e=>t(t.s=e);t.O(0,[91489,25619,39239,9060,63634,58555,99883,50018,30004,11403,20629,56449,46346,90939,82492,33648,59601,91033,12954,72378,60093,89275,27218,38778,77826,75725,79288,57741,52832,90757,35551,33745,28765,31873,92710],(()=>(e(7086),e(32067))));t.O()}]);